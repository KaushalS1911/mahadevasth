import{j as e,bM as m,h as y,i as l,S as s,az as S,T as g,B as r,D as u,L as O,q as w,O as b,_ as t,bN as p,bT as P,aA as N,bw as B,R as F,aF as L,dj as j,by as R,cf as H,a0 as $,aK as E,ec as _,r as T,C as z,p as G,ed as U,am as f,H as W}from"./index-fhA8hu8c.js";import{u as q}from"./use-params-RfV3iV5l.js";import{T as M,t as K,a as V,b as J,c as Q,d as X,e as Y}from"./TimelineItem-emjgvv4b.js";function v({customer:n,delivery:o,payment:i,shippingAddress:a}){const x=e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"Customer Info",action:e.jsx(y,{children:e.jsx(l,{icon:"solar:pen-bold"})})}),e.jsxs(s,{direction:"row",sx:{p:3},children:[e.jsx(S,{alt:n.name,src:n.avatarUrl,sx:{width:48,height:48,mr:2}}),e.jsxs(s,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[e.jsx(g,{variant:"subtitle2",children:n.name}),e.jsx(r,{sx:{color:"text.secondary"},children:n.email}),e.jsxs(r,{children:["IP Address:",e.jsx(r,{component:"span",sx:{color:"text.secondary",ml:.25},children:n.ipAddress})]}),e.jsx(u,{size:"small",color:"error",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]}),h=e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"Delivery",action:e.jsx(y,{children:e.jsx(l,{icon:"solar:pen-bold"})})}),e.jsxs(s,{spacing:1.5,sx:{p:3,typography:"body2"},children:[e.jsxs(s,{direction:"row",alignItems:"center",children:[e.jsx(r,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),o.shipBy]}),e.jsxs(s,{direction:"row",alignItems:"center",children:[e.jsx(r,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),o.speedy]}),e.jsxs(s,{direction:"row",alignItems:"center",children:[e.jsx(r,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),e.jsx(O,{underline:"always",color:"inherit",children:o.trackingNumber})]})]})]}),d=e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"Shipping",action:e.jsx(y,{children:e.jsx(l,{icon:"solar:pen-bold"})})}),e.jsxs(s,{spacing:1.5,sx:{p:3,typography:"body2"},children:[e.jsxs(s,{direction:"row",children:[e.jsx(r,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),a.fullAddress]}),e.jsxs(s,{direction:"row",children:[e.jsx(r,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),a.phoneNumber]})]})]}),c=e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"Payment",action:e.jsx(y,{children:e.jsx(l,{icon:"solar:pen-bold"})})}),e.jsxs(s,{direction:"row",alignItems:"center",sx:{p:3,typography:"body2"},children:[e.jsx(r,{component:"span",sx:{color:"text.secondary",flexGrow:1},children:"Phone number"}),i.cardNumber,e.jsx(l,{icon:"logos:mastercard",width:24,sx:{ml:.5}})]})]});return e.jsxs(w,{children:[x,e.jsx(b,{sx:{borderStyle:"dashed"}}),h,e.jsx(b,{sx:{borderStyle:"dashed"}}),d,e.jsx(b,{sx:{borderStyle:"dashed"}}),c]})}v.propTypes={customer:t.object,delivery:t.object,payment:t.object,shippingAddress:t.object};function I({items:n,taxes:o,shipping:i,discount:a,subTotal:x,totalAmount:h}){const d=e.jsxs(s,{spacing:2,alignItems:"flex-end",sx:{my:3,textAlign:"right",typography:"body2"},children:[e.jsxs(s,{direction:"row",children:[e.jsx(r,{sx:{color:"text.secondary"},children:"Subtotal"}),e.jsx(r,{sx:{width:160,typography:"subtitle2"},children:p(x)||"-"})]}),e.jsxs(s,{direction:"row",children:[e.jsx(r,{sx:{color:"text.secondary"},children:"Shipping"}),e.jsx(r,{sx:{width:160,...i&&{color:"error.main"}},children:i?`- ${p(i)}`:"-"})]}),e.jsxs(s,{direction:"row",children:[e.jsx(r,{sx:{color:"text.secondary"},children:"Discount"}),e.jsx(r,{sx:{width:160,...a&&{color:"error.main"}},children:a?`- ${p(a)}`:"-"})]}),e.jsxs(s,{direction:"row",children:[e.jsx(r,{sx:{color:"text.secondary"},children:"Taxes"}),e.jsx(r,{sx:{width:160},children:o?p(o):"-"})]}),e.jsxs(s,{direction:"row",sx:{typography:"subtitle1"},children:[e.jsx(r,{children:"Total"}),e.jsx(r,{sx:{width:160},children:p(h)||"-"})]})]});return e.jsxs(w,{children:[e.jsx(m,{title:"Details",action:e.jsx(y,{children:e.jsx(l,{icon:"solar:pen-bold"})})}),e.jsxs(s,{sx:{px:3},children:[e.jsx(P,{children:n.map(c=>e.jsxs(s,{direction:"row",alignItems:"center",sx:{py:3,minWidth:640,borderBottom:A=>`dashed 2px ${A.palette.background.neutral}`},children:[e.jsx(S,{src:c.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),e.jsx(N,{primary:c.name,secondary:c.sku,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),e.jsxs(r,{sx:{typography:"body2"},children:["x",c.quantity]}),e.jsx(r,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:p(c.price)})]},c.id))}),d]})]})}I.propTypes={discount:t.number,items:t.array,shipping:t.number,subTotal:t.number,taxes:t.number,totalAmount:t.number};function C({status:n,backLink:o,createdAt:i,orderNumber:a,statusOptions:x,onChangeStatus:h}){const d=B();return e.jsxs(e.Fragment,{children:[e.jsxs(s,{spacing:3,direction:{xs:"column",md:"row"},sx:{mb:{xs:3,md:5}},children:[e.jsxs(s,{spacing:1,direction:"row",alignItems:"flex-start",children:[e.jsx(y,{component:F,href:o,children:e.jsx(l,{icon:"eva:arrow-ios-back-fill"})}),e.jsxs(s,{spacing:.5,children:[e.jsxs(s,{spacing:1,direction:"row",alignItems:"center",children:[e.jsxs(g,{variant:"h4",children:[" Order ",a," "]}),e.jsx(L,{variant:"soft",color:n==="completed"&&"success"||n==="pending"&&"warning"||n==="cancelled"&&"error"||"default",children:n})]}),e.jsx(g,{variant:"body2",sx:{color:"text.disabled"},children:j(i)})]})]}),e.jsxs(s,{flexGrow:1,spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[e.jsx(u,{color:"inherit",variant:"outlined",endIcon:e.jsx(l,{icon:"eva:arrow-ios-downward-fill"}),onClick:d.onOpen,sx:{textTransform:"capitalize"},children:n}),e.jsx(u,{color:"inherit",variant:"outlined",startIcon:e.jsx(l,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),e.jsx(u,{color:"inherit",variant:"contained",startIcon:e.jsx(l,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),e.jsx(R,{open:d.open,onClose:d.onClose,arrow:"top-right",sx:{width:140},children:x.map(c=>e.jsx(H,{selected:c.value===n,onClick:()=>{d.onClose(),h(c.value)},children:c.label},c.value))})]})}C.propTypes={backLink:t.string,createdAt:t.instanceOf(Date),onChangeStatus:t.func,orderNumber:t.string,status:t.string,statusOptions:t.array};function k({history:n}){const o=e.jsxs(s,{spacing:2,component:$,variant:"outlined",sx:{p:2.5,minWidth:260,flexShrink:0,borderRadius:2,typography:"body2",borderStyle:"dashed"},children:[e.jsxs(s,{spacing:.5,children:[e.jsx(r,{sx:{color:"text.disabled"},children:"Order time"}),j(n.orderTime)]}),e.jsxs(s,{spacing:.5,children:[e.jsx(r,{sx:{color:"text.disabled"},children:"Payment time"}),j(n.orderTime)]}),e.jsxs(s,{spacing:.5,children:[e.jsx(r,{sx:{color:"text.disabled"},children:"Delivery time for the carrier"}),j(n.orderTime)]}),e.jsxs(s,{spacing:.5,children:[e.jsx(r,{sx:{color:"text.disabled"},children:"Completion time"}),j(n.orderTime)]})]}),i=e.jsx(M,{sx:{p:0,m:0,[`& .${K.root}:before`]:{flex:0,padding:0}},children:n.timeline.map((a,x)=>{const h=x===0,d=x===n.timeline.length-1;return e.jsxs(V,{children:[e.jsxs(J,{children:[e.jsx(Q,{color:h&&"primary"||"grey"}),d?null:e.jsx(X,{})]}),e.jsxs(Y,{children:[e.jsx(g,{variant:"subtitle2",children:a.title}),e.jsx(r,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:j(a.time)})]})]},a.title)})});return e.jsxs(w,{children:[e.jsx(m,{title:"History"}),e.jsxs(s,{spacing:3,alignItems:{md:"flex-start"},direction:{xs:"column-reverse",md:"row"},sx:{p:3},children:[i,o]})]})}k.propTypes={history:t.object};function D({id:n}){const o=E(),i=_.filter(d=>d.id===n)[0],[a,x]=T.useState(i.status),h=T.useCallback(d=>{x(d)},[]);return e.jsxs(z,{maxWidth:o.themeStretch?!1:"lg",children:[e.jsx(C,{backLink:G.dashboard.order.root,orderNumber:i.orderNumber,createdAt:i.createdAt,status:a,onChangeStatus:h,statusOptions:U}),e.jsxs(f,{container:!0,spacing:3,children:[e.jsx(f,{xs:12,md:8,children:e.jsxs(s,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:[e.jsx(I,{items:i.items,taxes:i.taxes,shipping:i.shipping,discount:i.discount,subTotal:i.subTotal,totalAmount:i.totalAmount}),e.jsx(k,{history:i.history})]})}),e.jsx(f,{xs:12,md:4,children:e.jsx(v,{customer:i.customer,delivery:i.delivery,payment:i.payment,shippingAddress:i.shippingAddress})})]})]})}D.propTypes={id:t.string};function re(){const n=q(),{id:o}=n;return e.jsxs(e.Fragment,{children:[e.jsx(W,{children:e.jsx("title",{children:" Dashboard: Order Details"})}),e.jsx(D,{id:`${o}`})]})}export{re as default};
