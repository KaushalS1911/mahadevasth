import{a as C,b as E,u as P,d as R,e as l,f as V,p as d,r as I,j as e,S as m,g as H,l as L,k as q,T as t,L as u,R as A,i as T,F as $,o as W,H as z}from"./index-fhA8hu8c.js";import{u as B}from"./use-countdown-QW8yKyFU.js";import{E as D}from"./new-password-icon-YtUob3pk.js";function G(){const h=C(),x=E().get("email"),{confirmRegister:r,resendCodeRegister:a}=P(),{countdown:p,counting:i,startCountdown:n}=B(60),f=R().shape({code:l().min(6,"Code must be at least 6 characters").required("Code is required"),email:l().required("Email is required").email("Email must be a valid email address")}),y={code:"",email:x||""},o=V({mode:"onChange",resolver:W(f),defaultValues:y}),{watch:b,handleSubmit:g,formState:{isSubmitting:j}}=o,c=b(),v=g(async s=>{try{await(r==null?void 0:r(s.email,s.code)),h.push(d.auth.amplify.login)}catch(k){console.error(k)}}),w=I.useCallback(async()=>{try{n(),await(a==null?void 0:a(c.email))}catch(s){console.error(s)}},[a,n,c.email]),F=e.jsxs(m,{spacing:3,alignItems:"center",children:[e.jsx(H,{name:"email",label:"Email",placeholder:"example@gmail.com",InputLabelProps:{shrink:!0}}),e.jsx(L,{name:"code"}),e.jsx(q,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:j,children:"Verify"}),e.jsxs(t,{variant:"body2",children:["Donâ€™t have a code? ",e.jsxs(u,{variant:"subtitle2",onClick:w,sx:{cursor:"pointer",...i&&{color:"text.disabled",pointerEvents:"none"}},children:["Resend code ",i&&`(${p}s)`]})]}),e.jsxs(u,{component:A,href:d.auth.amplify.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[e.jsx(T,{icon:"eva:arrow-ios-back-fill",width:16}),"Return to sign in"]})]}),S=e.jsxs(e.Fragment,{children:[e.jsx(D,{sx:{height:96}}),e.jsxs(m,{spacing:1,sx:{mt:3,mb:5},children:[e.jsx(t,{variant:"h3",children:"Please check your email!"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"We have emailed a 6-digit confirmation code to acb@domain, please enter the code in below box to verify your email."})]})]});return e.jsxs(e.Fragment,{children:[S,e.jsx($,{methods:o,onSubmit:v,children:F})]})}function O(){return e.jsxs(e.Fragment,{children:[e.jsx(z,{children:e.jsx("title",{children:" Amplify: Verify"})}),e.jsx(G,{})]})}export{O as default};
