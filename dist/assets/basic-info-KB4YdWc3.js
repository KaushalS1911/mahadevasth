import{aK as N,u as k,r as o,cE as H,K as h,f as U,M as f,j as t,H as Y,C as $,T as g,B as n,F as q,Q as K,am as c,q as j,g as l,N as p,w as V,x as Q,y as J,S as X,D as Z,k as ee}from"./index-fhA8hu8c.js";function ie(){const y=N(),{vendor:u}=k(),[a,S]=o.useState(!0),r=u==null?void 0:u.category,[b,C]=o.useState([]),[w,v]=o.useState([]),[O,B]=o.useState([]),[P,W]=o.useState(""),{profile:s}=H(),d=b.find(e=>(e==null?void 0:e.state_name)===P),D=(e,i)=>{W(i),x.setValue("state",i)};o.useEffect(()=>{M()},[]),o.useEffect(()=>{d&&d.state_id&&(L(d.state_id),T(d.state_id))},[d]);function M(){h.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state").then(e=>{var i;C((i=e==null?void 0:e.data)==null?void 0:i.data)})}function L(e){h.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${e}/branch`).then(i=>{var m;v((m=i==null?void 0:i.data)==null?void 0:m.data)})}function T(e){h.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${e}/district`).then(i=>{var m;B((m=i==null?void 0:i.data)==null?void 0:m.data)})}const x=U({defaultValues:{name:"",milling_type:"",mil_dis_sub_roles:"",type_of_firm:"",contact_person:"",phone_number:"",email:"",address:"",state:"",district:"",procurement_area:"",branch:"",pincode:"",pan_number:"",gst_number:""}}),{reset:_,handleSubmit:F,formState:{isSubmitting:I}}=x;o.useEffect(()=>{s&&_({name:s.name||"",milling_type:s.milling_type||"",mil_dis_sub_roles:s.mil_dis_sub_roles||"",type_of_firm:s.type_of_firm||"",contact_person:s.contact_person||"",phone_number:s.phone_number||"",email:s.email||"",password:s.password||"",confirm_password:s.confirm_password||"",address:s.address||"",state:s.state||"",district:s.district||"",procurement_area:s.procurement_area||"",branch:s.branch||"",pincode:s.pincode||"",pan_number:s.pan_number||"",gst_number:s.gst_number||""})},[s,_,u]);const R=F(async e=>{const i={...e,csp_code:u.csp_code,updated_on:new Date().toISOString(),mode:"test"};h.put("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/update_info",i).then(m=>{f("Update successfully")}).catch(m=>{f("Something went wrong",{variant:"error"})})}),z=[{label:"Co-operative (Rent Mill)",value:"cooperative_rent_mill"},{label:"Own Distribution and Rent Mill",value:"own_distribution_rent_mill"},{label:"Own Mill and Distribution",value:"own_distribution_own_mill"}],E=["Partnership","Proprietary ","LLP","Public Limited","Other"],G=["Retail outlet","Mobile van"],A=["Dry","Wet","Both"];return t.jsxs(t.Fragment,{children:[t.jsx(Y,{children:t.jsx("title",{children:" Dashboard | Basic Info"})}),t.jsxs($,{maxWidth:y.themeStretch?!1:"xl",children:[t.jsx(g,{variant:"h4",children:" Basic Information"}),t.jsx(n,{sx:{mt:5,width:1,height:320,borderRadius:2},children:t.jsxs(q,{methods:x,onSubmit:R,children:[t.jsx(K,{}),t.jsxs(c,{container:!0,children:[t.jsx(c,{item:!0,md:4,children:t.jsx(n,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:t.jsxs(n,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:["Basic Information",t.jsx(g,{sx:{fontSize:"13px",color:"#637381"},children:"Basic Information Input fields"})]})})}),t.jsx(c,{md:8,xs:12,item:!0,children:t.jsx(j,{sx:{p:3},children:t.jsxs(n,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:[t.jsx(l,{name:"name",disabled:a,label:r==="distributor"?"Distributor Name":r==="miller"||r==="miller_distributor"?"Milling Unit Name":"Society Name"}),(r==="miller"||r==="miller_distributor")&&t.jsx(p,{name:"milling_type",type:"milling_type",label:"Milling Type",disabled:a,placeholder:"Choose Milling Type",fullWidth:!0,options:A.map(e=>e),getOptionLabel:e=>e}),r!=="own_distribution_own_mill"&&r!=="own_distribution_rent_mill"&&r!=="cooperative_rent_mill"&&t.jsx(p,{disabled:a,name:"type_of_firm",label:"Type of Firm",placeholder:"Choose Your firm",fullWidth:!0,options:E.map(e=>e),getOptionLabel:e=>e}),t.jsx(l,{name:"email",label:"Email",disabled:a}),t.jsx(l,{name:"contact_person",label:"Contact Person",disabled:a}),t.jsx(l,{name:"phone_number",label:"Phone Number",disabled:a}),r==="distributor"&&t.jsxs(t.Fragment,{children:[t.jsx(l,{name:"area_of_Opration",label:"Area of Opration"}),t.jsx(l,{name:"capacity",label:"Capacity /day (MT)"}),t.jsx(p,{name:"mode",label:"Mode of Sale",placeholder:"Choose mode of sale",fullWidth:!0,options:G.map(e=>e),getOptionLabel:e=>e})]}),t.jsx(l,{name:"pan_number",label:"Pan Number",disabled:a}),t.jsx(l,{name:"gst_number",label:"GST Number",disabled:a}),r==="society_cooperative"&&t.jsxs(V,{row:!0,"aria-label":"vendor",name:"mil_dis_sub_roles",children:[t.jsx(n,{sx:{fontWeight:"500"},children:"Society Cooperative Category :"}),z.map(e=>t.jsx(Q,{checked:(e==null?void 0:e.value).includes(s==null?void 0:s.mil_dis_sub_roles),value:e==null?void 0:e.value,control:t.jsx(J,{}),label:e==null?void 0:e.label}))]})]})})})]}),t.jsxs(c,{container:!0,sx:{mt:"80px"},children:[t.jsx(c,{item:!0,md:4,children:t.jsx(n,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:t.jsx(n,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:t.jsx(n,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:` ${r==="distributor"||r==="miller_distributor"||r==="miller"?"Address of Proposed Milling Unit Premises":"Address Information"}`})})})}),t.jsx(c,{md:8,xs:12,item:!0,children:t.jsx(j,{sx:{p:3},children:t.jsxs(n,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},children:[t.jsx(n,{gridColumn:{xs:"span 1",sm:"span 2",md:"span 4"},children:t.jsx(l,{name:"address",label:"Address",fullWidth:!0,disabled:a})}),t.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:t.jsx(p,{name:"state",label:"State",disabled:a,placeholder:"Choose Your State",fullWidth:!0,options:b.map(e=>e==null?void 0:e.state_name),getOptionLabel:e=>e,onChange:D})}),t.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:t.jsx(p,{name:"district",label:"District",placeholder:"Choose Your District",fullWidth:!0,options:O.map(e=>e==null?void 0:e.district),getOptionLabel:e=>e,disabled:!d})}),t.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:t.jsx(p,{name:"branch",label:"Branch",placeholder:"Choose Your Branch",fullWidth:!0,options:w.map(e=>e==null?void 0:e.branch_name),getOptionLabel:e=>e,disabled:!d})}),t.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:t.jsx(l,{name:"pincode",label:"Pin Code",fullWidth:!0,disabled:a})})]})})})]}),t.jsx(X,{display:"flex",alignItems:"flex-end",sx:{mt:3},children:t.jsxs(n,{children:[t.jsx(Z,{color:"inherit",variant:"outlined",sx:{mr:"20px"},onClick:()=>S(e=>!e),children:a?"Edit":"Cancel"}),t.jsx(ee,{type:"submit",loading:I,variant:"contained",disabled:a,children:"Save"})]})})]})})]})]})}export{ie as default};
